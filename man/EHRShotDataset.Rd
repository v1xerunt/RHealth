% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Dataset_EHRShotDataset.R
\name{EHRShotDataset}
\alias{EHRShotDataset}
\title{EHRShotDataset: Dataset class for EHRShot Benchmark}
\description{
A dataset class for handling EHRShot data. EHRShot is a benchmark for
few-shot evaluation on Electronic Health Records (EHR) data, covering
multiple predictive tasks including operational outcomes, lab values,
new diagnoses, and medical imaging findings.
}
\details{
The EHRShot benchmark provides standardized evaluation across multiple
clinical prediction tasks:

\strong{Operational Outcomes:}
\itemize{
\item \strong{guo_los}: Length of stay prediction
\item \strong{guo_readmission}: Hospital readmission prediction
\item \strong{guo_icu}: ICU admission prediction
}

\strong{Lab Values:}
\itemize{
\item \strong{lab_thrombocytopenia}: Low platelet count prediction
\item \strong{lab_hyperkalemia}: High potassium level prediction
\item \strong{lab_hypoglycemia}: Low blood sugar prediction
\item \strong{lab_hyponatremia}: Low sodium level prediction
\item \strong{lab_anemia}: Anemia prediction
}

\strong{New Diagnoses:}
\itemize{
\item \strong{new_hypertension}: New hypertension diagnosis
\item \strong{new_hyperlipidemia}: New hyperlipidemia diagnosis
\item \strong{new_pancan}: New pancreatic cancer diagnosis
\item \strong{new_celiac}: New celiac disease diagnosis
\item \strong{new_lupus}: New lupus diagnosis
\item \strong{new_acutemi}: New acute myocardial infarction diagnosis
}

\strong{Medical Imaging:}
\itemize{
\item \strong{chexpert}: CheXpert multi-label chest X-ray finding classification
}
}
\section{Data Structure}{

The dataset expects the following CSV files in the root directory:
\itemize{
\item \strong{ehrshot.csv}: Main events table with clinical codes
\item \strong{splits.csv}: Train/validation/test split assignments
\item \strong{<task_name>.csv}: Label files for each prediction task
}
}

\section{Website}{

For more information, visit: \url{https://som-shahlab.github.io/ehrshot-website/}
}

\examples{
\dontrun{
# Initialize with default ehrshot table only
dataset <- EHRShotDataset$new(
  root = "/path/to/ehrshot/data",
  tables = c("ehrshot", "splits", "guo_los"),
  dev = TRUE
)

# Initialize with multiple task tables
dataset <- EHRShotDataset$new(
  root = "/path/to/ehrshot/data",
  tables = c("ehrshot", "splits", "lab_thrombocytopenia", "new_hypertension"),
  dev = FALSE
)

# Display dataset statistics
dataset$stats()
}


## ------------------------------------------------
## Method `EHRShotDataset$new`
## ------------------------------------------------

\dontrun{
# Basic initialization with single task
ds <- EHRShotDataset$new(
  root = "/data/ehrshot",
  tables = c("ehrshot", "splits", "guo_los")
)

# With multiple tasks and dev mode
ds <- EHRShotDataset$new(
  root = "/data/ehrshot",
  tables = c("ehrshot", "splits", "lab_thrombocytopenia", "new_hypertension"),
  dev = TRUE
)
}
}
\seealso{
\code{\link{BaseDataset}}, \code{\link{BenchmarkEHRShot}}
}
\section{Super class}{
\code{\link[RHealth:BaseDataset]{RHealth::BaseDataset}} -> \code{EHRShotDataset}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-EHRShotDataset-new}{\code{EHRShotDataset$new()}}
\item \href{#method-EHRShotDataset-clone}{\code{EHRShotDataset$clone()}}
}
}
\if{html}{\out{
<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="RHealth" data-topic="BaseDataset" data-id="collected_global_event_df"><a href='../../RHealth/html/BaseDataset.html#method-BaseDataset-collected_global_event_df'><code>RHealth::BaseDataset$collected_global_event_df()</code></a></span></li>
<li><span class="pkg-link" data-pkg="RHealth" data-topic="BaseDataset" data-id="default_task"><a href='../../RHealth/html/BaseDataset.html#method-BaseDataset-default_task'><code>RHealth::BaseDataset$default_task()</code></a></span></li>
<li><span class="pkg-link" data-pkg="RHealth" data-topic="BaseDataset" data-id="get_patient"><a href='../../RHealth/html/BaseDataset.html#method-BaseDataset-get_patient'><code>RHealth::BaseDataset$get_patient()</code></a></span></li>
<li><span class="pkg-link" data-pkg="RHealth" data-topic="BaseDataset" data-id="iter_patients"><a href='../../RHealth/html/BaseDataset.html#method-BaseDataset-iter_patients'><code>RHealth::BaseDataset$iter_patients()</code></a></span></li>
<li><span class="pkg-link" data-pkg="RHealth" data-topic="BaseDataset" data-id="load_data"><a href='../../RHealth/html/BaseDataset.html#method-BaseDataset-load_data'><code>RHealth::BaseDataset$load_data()</code></a></span></li>
<li><span class="pkg-link" data-pkg="RHealth" data-topic="BaseDataset" data-id="load_table"><a href='../../RHealth/html/BaseDataset.html#method-BaseDataset-load_table'><code>RHealth::BaseDataset$load_table()</code></a></span></li>
<li><span class="pkg-link" data-pkg="RHealth" data-topic="BaseDataset" data-id="set_task"><a href='../../RHealth/html/BaseDataset.html#method-BaseDataset-set_task'><code>RHealth::BaseDataset$set_task()</code></a></span></li>
<li><span class="pkg-link" data-pkg="RHealth" data-topic="BaseDataset" data-id="stats"><a href='../../RHealth/html/BaseDataset.html#method-BaseDataset-stats'><code>RHealth::BaseDataset$stats()</code></a></span></li>
<li><span class="pkg-link" data-pkg="RHealth" data-topic="BaseDataset" data-id="unique_patient_ids"><a href='../../RHealth/html/BaseDataset.html#method-BaseDataset-unique_patient_ids'><code>RHealth::BaseDataset$unique_patient_ids()</code></a></span></li>
</ul>
</details>
}}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-EHRShotDataset-new"></a>}}
\if{latex}{\out{\hypertarget{method-EHRShotDataset-new}{}}}
\subsection{Method \code{new()}}{
Initialize the EHRShotDataset.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{EHRShotDataset$new(
  root,
  tables,
  dataset_name = NULL,
  config_path = NULL,
  dev = FALSE,
  ...
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{root}}{Character. Root directory of the EHRShot dataset containing CSV files
(e.g., ehrshot.csv, splits.csv, task label files).}

\item{\code{tables}}{Character vector of tables to include. Should include at minimum
"ehrshot" for events and "splits" for data splitting. Additional task-specific
label tables can be added (e.g., "guo_los", "lab_thrombocytopenia").
Available task tables include:
\itemize{
\item Operational outcomes: "guo_los", "guo_readmission", "guo_icu"
\item Lab values: "lab_thrombocytopenia", "lab_hyperkalemia", "lab_hypoglycemia",
"lab_hyponatremia", "lab_anemia"
\item New diagnoses: "new_hypertension", "new_hyperlipidemia", "new_pancan",
"new_celiac", "new_lupus", "new_acutemi"
\item Imaging: "chexpert"
}}

\item{\code{dataset_name}}{Character. Optional custom name for the dataset.
Defaults to "ehrshot".}

\item{\code{config_path}}{Character. Optional path to a custom YAML configuration
file. If NULL (default), uses the built-in EHRShot configuration.}

\item{\code{dev}}{Logical. If TRUE, limits data loading to 1000 patients for rapid
prototyping and testing. Default is FALSE.}

\item{\code{...}}{Additional arguments passed to \code{BaseDataset$initialize}.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A new \code{EHRShotDataset} object.
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
# Basic initialization with single task
ds <- EHRShotDataset$new(
  root = "/data/ehrshot",
  tables = c("ehrshot", "splits", "guo_los")
)

# With multiple tasks and dev mode
ds <- EHRShotDataset$new(
  root = "/data/ehrshot",
  tables = c("ehrshot", "splits", "lab_thrombocytopenia", "new_hypertension"),
  dev = TRUE
)
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-EHRShotDataset-clone"></a>}}
\if{latex}{\out{\hypertarget{method-EHRShotDataset-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{EHRShotDataset$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
